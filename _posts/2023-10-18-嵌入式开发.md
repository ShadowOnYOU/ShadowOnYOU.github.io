---
layout: post
title: 嵌入式开发——嵌入式概论&&ROS
categories: [cate1, cate2]
description: some word here
keywords: keyword1, keyword2
mermaid: false
sequence: false
flow: false
mathjax: false
mindmap: false
mindmap2: false

---

# 嵌入式开发

## 1. 简易ISR调试

若你的ISR代码较短，肉眼检查一下即可，不要启动复杂的工具。要保持处理程序的简单和简短。

【可重入】：以原子方式使用所有共享变量，不调用不可重入

## 2. 嵌入式软件与桌面软件的对比

#### 内存：

有限，影响编程语言的选择以及开发工具的使用

#### CPU处理能力：

从成本和功耗考虑，ES不得不采用保守的设计方案，其中CPU往往知识恰好满足要求

#### 操作系统：

OS，RTOS，专有OS或裸机

#### 实时行为：

实时系统不一定会运行的很快，但是一定是可预测的。实时性的要求对于OS的选择和程序设计都有影响。

#### 开发流程：

ES往往没有足够的资源进行软件开发。交叉开发对于工具的选择有很大的影响。

开发过程也不同，编辑，编译，调试的循环是一样的，但是执行这一步却非常复杂。

【交叉开发】

#### 执行流程：

多数嵌入式设备从开机开始就会运行某个程序。该程序会一直运行到系统关机。

#### 每一个嵌入式设备都是不一样的：

可能是技术层面的，也可能是商业运作层面的

#### 嵌入式软件开发工具：

交叉编译器。有时候嵌入式应用会直接包含小部分的汇编代码。嵌入式连接器除了将多个对象模块和函数库历程整合在一起，还负责在内存中正确定位代码和数据。嵌入式系统的内存映射十分复杂，对于精确性的要求也十分严格。调试器也不是一个单一的组件，而是一些列对应不同运行环境的工具。

#### 软件组件：

数据，LCD，网络支持，库的使用

## 3. 谁设计了硬件

一般而言是两个团队

有关硬件的决策会对软件产生持久的影响（过多和过少的权衡）

软件主导硬件

## 4. 软件&&硬件的权衡

1. 微处理器的选择
   1. 可能影响软件效率
2. 内存大小和组合
   1. 尽可能晚的决定存储器可能的确切数量和搭配
   2. ROM， RAM互换性
3. 需要认真考虑设计中包含哪些外设
   1. 考虑硬件费用
   2. 有时候可以使用硬件替代

## 5. 调试

1. 在线仿真器
2. 监控调试器
3. 片上调试

## 6. 自检

1. IO电路
2. 板载开关
   1. 用于配制或模式选择
3. 状态显示
   1. 可能是字符或LED
   2. LED有三种状态

## 7. 软件系统层次结构

## 8. 为何要为实时系统建立模型

1. 辅助测试和完善最终系统
2. 模型利用它所致的系统属性来描述整个系统，并能够用于对系统特性的进一步研究
3. 实时工程师使用程序模型来开发硬件和软件
4. 模型使得软件可以如预期进行运行

### 模型间的差异

1. 易于编写但是不易调试
2. 难于编写但是易于调试
3. 运行更快但是戏院消耗
4. 模型准确性与鲁棒性

### 基本模型

1. 单线程
2. 多线程

## 9. ROS

ROS是一个适用于机器人的开源的源操作系统

提供了操作系统应有的服务，包括硬件抽象、底层设备控制、常用函数实现、进程间消息传递以及包管理

提供用于获取、编译、编写和跨计算机运行代码所需的工具和函数

## 10. 管道

核心是提供一个消息传递系统，称为“中间件”或“管道”

ROS的内置且经过良好测试的消息传递系统通过匿名发布/订阅模式管理分布式节点之间的通信细节，从而节省了时间

此方法鼓励软件开发中的良好时间，包括鼓掌隔离，关注点分离和清晰的接口

使用ROS可以使系统更容易维护、贡献和重用

