---
layout: post
title: 嵌入式系统——IOT平台关键技术
categories: [cate1, cate2]
description: some word here
keywords: keyword1, keyword2
mermaid: false
sequence: false
flow: false
mathjax: false
mindmap: false
mindmap2: false
---

# 嵌入式系统——IOT平台关键技术

## 1. 设备管理

设备管理服务：可以帮助对所有连接的设备，在全球范围内进行规模化的注册、查看及远程管理。

在设备接入基础上，提供了更丰富完备的设备管理能力，简化海量设备管理复杂性，节省人工操作，提升管理效率。

OTA技术：发送固件升级，确保设备始终运行最新版本软件

### 功能

生命周期 设备分组 设备影子 物模型 数据解析 数据存储 在线调试 固件升级 远程配置 实时监控等

#### 设备注册 && 接入鉴权

额外：注册一个身份，身份的激活，接入鉴权的信息

#### 命令下放

立即下发，缓存下发

![截屏2023-12-25 上午10.25.32](https://github.com/ShadowOnYOU/images/blob/main/test202312251025511.png?raw=true)

#### 设备联动

规则引擎：类似于分支语句

规则可以和设备、应用、告警绑定，当绑定的信息满足条件时，规则 可以自动化执行响应动作

![截屏2023-12-25 上午10.30.51](https://github.com/ShadowOnYOU/images/blob/main/test202312251030526.png?raw=true)

#### 物模型

是对设备在云端的功能描述，包括设备的属性、数据、服务和事件

物联网平台通过定义一种物的描述语言来描述物模型，称为TSL，采用JSON格式

![截屏2023-12-25 上午10.35.36](https://github.com/ShadowOnYOU/images/blob/main/test202312251035919.png?raw=true)

![截屏2023-12-25 上午10.36.09](https://github.com/ShadowOnYOU/images/blob/main/test202312251036585.png?raw=true)

#### 设备影子

物联网平台提供设备影子功能，用于缓存设备状态

* 设备在线时，直接获取云端指令
* 设备离线后，再次上线可以主动拉取云端指令

设备影子是一个JSON文档（存储设备上报状态（向上），应用程序期望状态信息（向下））

每个设备有且只有一个设备影子

##### 场景：

网络不稳定，设备频繁上下线；多程序同时请求获取设备状态；设备掉线

数据的有效性：时间戳 && 版本（见图）

#### 模版

#### 数字孪生

是充分利用物理模型、传感器更新、运行历史等数据，集成多学科、多物理量、多尺度、多概率的仿真过程，在虚拟空间中完成映射，从而反映相对应的实体装备的全生命周期过程。

##### 优势：

可见性，预测性，假设分析

仿真（是离线的）CPS（都是利用数字化手段构建的；但是CPS属于系统实现，数字偏向于模型的构建等技术实现）元宇宙（数字是对现实世界一比一的映射，元宇宙是现实世界的平行世界（可以和现实世界不同））

## 2. 边缘计算

### 基于云的IOT解决方案的不足

1. 对于大规模边缘的多源异构数据处理要求，无法在集中式计算线性增长的计算能力下得到满足
2. 数据在用户和运输局中心之间的长距离传输将导致高网络时延和计算资源浪费
3. 大多数终端用户处于网络边缘

### 什么是边缘计算

是数据源和云数据中心之间的任何计算和网络资源

边缘计算和雾计算是可以互换的

定义：是一种将主要处理和数据存储放在网络的边缘节点的分布式计算形式

优势：减少带宽，减少延迟，改善隐私提升安全性

**向端设备卸载**

![截屏2023-12-25 上午11.23.36](https://github.com/ShadowOnYOU/images/blob/main/test202312251123277.png?raw=true)

#### 边云协同

边缘计算和云计算不是替代关系，而是互补协同关系。

**边缘计算不是存储所有的数据，而是例如一周，一月的数据；而云可以存储所有的数据**

#### 边缘计算的例子

![截屏2023-12-25 上午11.31.53](https://github.com/ShadowOnYOU/images/blob/main/test202312251131381.png?raw=true)

实际的使用更偏向于数据的实时性

## 3. IOT协议

网络层：IPv4

传输层：TCP，UDP

应用层：HTTP/REST/CoAP/MQTT/AMQP/XMPP（主要是HTTP && MQTT）

如果我想自己建一个IOT平台，用的是不支持的协议如何处理？

通过协议转换网关实现泛协议设备接入

![截屏2023-12-25 上午11.55.34](https://github.com/ShadowOnYOU/images/blob/main/test202312251155588.png?raw=true)



