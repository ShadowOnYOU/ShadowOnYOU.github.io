---
layout: post
title: DevOps
categories: [devops]
description: some word here
keywords: devops
mermaid: false
sequence: false
flow: false
mathjax: false
mindmap: false
mindmap2: false
---

# DevOps

# 1. The Three Ways

### 1.1 the first way

![img](https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Devops-introduction/img/lec1/1.png)

概念：充分理解工作流（开发-运维-客户），流量最大化，不断为了整体目标的实现而优化工作流

实现方法：持续构建、集成及交付。按需创建环境，限制半成品，构建支持顺利变更的安全系统，看板

### 1.2 the second way

![img](https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Devops-introduction/img/lec1/2.png)

概念：价值流的快速持续反馈（加强反馈的闭环），避免问题再次发生，从源头上保证质量

实现方法：适时停止生产线，持续改进，构建自动化测试套件，远程监测手段

### 1.3 the third way

![img](https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Devops-introduction/img/lec1/3.png)

概念：创建培育良好的文化（不断尝试、重复和练习）

实现方法：营造用于创新，敢于冒险和高度信任的企业文化，确保20%投资在非功能需求上，不断鼓励和强化改进

## 2. 四种典型IT工作类型

1. 业务项目
   1. 大部分支持企业业务计划的开发项目
   2. 典型的，由公司项目管理办公室来跟踪和管理
2. IT内部项目
   1. 典型的，不是集中跟踪和管理
   2. 当IT运维瓶颈出现时，投入的生产能力不易于弄清
   3. 不是直接产生效益（比如说给外卖项目做保证）
3. 变更
   1. 由上述两类项目引起
   2. 往往通过问题跟踪系统来跟踪和管理（JIRA）
   3. 多套系统的问题
4. 计划外工作
   1. 操作事故和问题
   2. 一旦发生，前述问题的解决会受到影响

## 3. 精益生产和DevOps

精益理论：降低批量规模，减少半成品，缩短并增强反馈回路（库存都是有害的，希望0库存）

**DevOps是IT价值流中应用精益理论的结果**，devops方法就是一个理论技术

## 4. 到底什么是DevOps

很难讲定义，一般都是描述

1. DevOps是运维和开发工程师共同参与整个服务生命周期的实践，从设计到开发过程再到生产支持。
2. DevOps的另一个特点是运维人员在他们的系统工作中使用许多与开发人员相同的技术。

## 5. DevOps关键术语

### 5.1. CI/CD

1. 持续集成(Continuous Integration, CI)：是一种开发实践，需要开发人员每天多次将代码集成到共享存储库中。然后每次签入都通过自动构建进行验证，从而使团队能够及早发现问题。
2. 持续交付(Continuous Delivery, CD)：是一套流程和实践，可以从根本上消除软件生产过程中的浪费，能够更快地交付高质量的功能，并在您的企业和用户之间建立快速有效的反馈循环
3. 持续部署(Continuous Deployment, CD)：意味着您实际上会立即部署并向用户公开更改。
4. 交付了未必部署

### 5.2. 不同级别的云服务

1. **软件即服务**(SaaS)：是一种软件许可和交付模型，其中软件在订阅的基础上获得许可并集中托管。
2. 基础设施即服务(IaaS)：云托管的虚拟机通常按"现收现付"收费。用户可以完全控制机器，但需要自己安装和配置任何所需的中间件和应用程序。
3. 平台即服务 (PaaS)：PaaS供应商为应用程序开发人员提供开发环境。提供商通常会开发工具包和标准，以及用于分销和支付的渠道。

### 5.3. 指标

1. 部署频率：您的组织多久部署一次代码？
2. 变更进入生产的时间：从代码提交到代码在生产中成功运行需要多长时间？
3. 平均恢复时间(MTTR)：发生服务事件一般需要多长时间恢复服务
4. 改变失败率：有多少百分比的更改会导致服务降级或随后需要修复？

### 5.4. 流水线与编排

1. 流水线：为了让应用从概念到生产，工程师们都按照顺序和最终例行的步骤工作。
2. 流水线编排：使构成持续交付管道的各种自动化任务能够在正确的时间被调用的工具或产品。 它们通常还会记录每个任务的状态和输出，并可视化通过管道的特征流。

### 5.5. 容器与Docker

1. 容器：容器为虚拟机提供了一种轻量级的替代方案，它们使开发人员能够使用相同的DEV环境和堆栈。他们还通过鼓励使用无状态设计来促进DevOps。
2. Docker：Docker是一个开源项目，可在软件容器内自动部署Linux应用程序。引用Docker官方描述的功能：Docker容器将一个软件封装在一个完整的文件系统中，该文件系统包含它运行所需的一切：代码、运行时、系统工具、系统库——任何你可以安装在服务器上的东西。这保证了它总是以相同的方式运行，而不管它在什么环境中运行。

### 5.6. 微服务

1. 微服务架构一词在过去几年中如雨后春笋般涌现，用来描述将软件应用程序设计为可独立部署的服务套件的特定方式。虽然这种架构风格没有精确的定义，但围绕业务能力、自动化部署、端点智能以及语言和数据的分散控制，围绕组织存在某些共同特征。

### 5.7. 版本管理工具

1. Git：Git是一个分布式版本控制系统，强调速度、数据完整性和对分布式非线性工作流的支持。Git 最初由 Linus Torvalds 于2005年为Linux内核开发设计和开发，此后成为软件开发中最广泛采用的版本控制系统。
2. GitHub：GitHub是一种基于Web的Git存储库托管服务，它提供Git的所有分布式修订控制和源代码管理(SCM)功能以及添加自己的功能。与严格意义上的命令行工具Git不同，GitHub提供基于Web的图形界面和桌面以及移动集成。

### 5.8. 测试

1. A/B测试：一种技术，其中新功能或功能的不同变体可用于不同的用户集，并通过比较指标和用户行为进行评估。

## 

